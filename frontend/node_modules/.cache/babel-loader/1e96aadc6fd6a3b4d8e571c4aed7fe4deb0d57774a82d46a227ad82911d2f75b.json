{"ast":null,"code":"var _jsxFileName = \"/Users/konedanguiismael/workspace/react/frontend/src/ItemImport.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useApi } from \"./contexts/ApiProvider\";\nimport { useFlash } from \"./contexts/FlashProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst uploadSchema = Yup.object().shape({});\nexport default function InvoiceImportPage() {\n  _s();\n  const navigate = useNavigate();\n  const api = useApi();\n  const flash = useFlash();\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      excelFile: null\n    },\n    validationSchema: uploadSchema,\n    onSubmit: async values => {\n      if (values.excelFile) {\n        let data = new FormData();\n        values.excelFile && data.append(\"excelFile\", values.excelFile);\n        const response = await api.post(`/items/import`, data);\n        if (!response.error) {\n          flash(\"Chargement de données effectuées\", \"success\");\n          navigate(\"/\");\n        } else {\n          flash(`${response.error}`);\n        }\n      } else {\n        flash(\"choisir un fichier\", \"danger\");\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Import your invoice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"excelFile\",\n        name: \"excelFile\",\n        accept: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\",\n        type: \"file\",\n        onChange: event => {\n          formik.setFieldValue(\"excelFile\", event.currentTarget.files[0]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"View data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/invoices\",\n        children: \"Annuler\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(InvoiceImportPage, \"Pn3gHcz4F+3UgJ/o9B5iAfJ+1L8=\", false, function () {\n  return [useNavigate, useApi, useFlash, useFormik];\n});\n_c = InvoiceImportPage;\nvar _c;\n$RefreshReg$(_c, \"InvoiceImportPage\");","map":{"version":3,"names":["React","useState","Link","useNavigate","useFormik","Yup","useApi","useFlash","uploadSchema","object","shape","InvoiceImportPage","navigate","api","flash","formik","enableReinitialize","initialValues","excelFile","validationSchema","onSubmit","values","data","FormData","append","response","post","error","handleSubmit","event","setFieldValue","currentTarget","files"],"sources":["/Users/konedanguiismael/workspace/react/frontend/src/ItemImport.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useApi } from \"./contexts/ApiProvider\";\nimport { useFlash } from \"./contexts/FlashProvider\";\n\nconst uploadSchema = Yup.object().shape({});\n\nexport default function InvoiceImportPage() {\n  const navigate = useNavigate();\n  const api = useApi();\n  const flash = useFlash();\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      excelFile: null,\n    },\n    validationSchema: uploadSchema,\n    onSubmit: async (values) => {\n      if (values.excelFile) {\n        let data = new FormData();\n        values.excelFile && data.append(\"excelFile\", values.excelFile);\n        const response = await api.post(`/items/import`, data);\n        if (!response.error) {\n          flash(\"Chargement de données effectuées\", \"success\");\n          navigate(\"/\");\n        } else {\n          flash(`${response.error}`);\n        }\n      } else {\n        flash(\"choisir un fichier\", \"danger\");\n      }\n    },\n  });\n\n  return (\n    <div className=\"page\">\n      <div className=\"header\">\n        <h1>Import your invoice</h1>\n      </div>\n      <form onSubmit={formik.handleSubmit}>\n        <input\n          id=\"excelFile\"\n          name=\"excelFile\"\n          accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\n          type=\"file\"\n          onChange={(event) => {\n            formik.setFieldValue(\"excelFile\", event.currentTarget.files[0]);\n          }}\n        />\n\n        <button type=\"submit\">View data</button>\n        <Link to=\"/invoices\">Annuler</Link>\n      </form>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,SAAS,QAAQ,QAAQ;AAClC,OAAO,KAAKC,GAAG,MAAM,KAAK;AAC1B,SAASC,MAAM,QAAQ,wBAAwB;AAC/C,SAASC,QAAQ,QAAQ,0BAA0B;AAAC;AAEpD,MAAMC,YAAY,GAAGH,GAAG,CAACI,MAAM,EAAE,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;AAE3C,eAAe,SAASC,iBAAiB,GAAG;EAAA;EAC1C,MAAMC,QAAQ,GAAGT,WAAW,EAAE;EAC9B,MAAMU,GAAG,GAAGP,MAAM,EAAE;EACpB,MAAMQ,KAAK,GAAGP,QAAQ,EAAE;EAExB,MAAMQ,MAAM,GAAGX,SAAS,CAAC;IACvBY,kBAAkB,EAAE,IAAI;IACxBC,aAAa,EAAE;MACbC,SAAS,EAAE;IACb,CAAC;IACDC,gBAAgB,EAAEX,YAAY;IAC9BY,QAAQ,EAAE,MAAOC,MAAM,IAAK;MAC1B,IAAIA,MAAM,CAACH,SAAS,EAAE;QACpB,IAAII,IAAI,GAAG,IAAIC,QAAQ,EAAE;QACzBF,MAAM,CAACH,SAAS,IAAII,IAAI,CAACE,MAAM,CAAC,WAAW,EAAEH,MAAM,CAACH,SAAS,CAAC;QAC9D,MAAMO,QAAQ,GAAG,MAAMZ,GAAG,CAACa,IAAI,CAAE,eAAc,EAAEJ,IAAI,CAAC;QACtD,IAAI,CAACG,QAAQ,CAACE,KAAK,EAAE;UACnBb,KAAK,CAAC,kCAAkC,EAAE,SAAS,CAAC;UACpDF,QAAQ,CAAC,GAAG,CAAC;QACf,CAAC,MAAM;UACLE,KAAK,CAAE,GAAEW,QAAQ,CAACE,KAAM,EAAC,CAAC;QAC5B;MACF,CAAC,MAAM;QACLb,KAAK,CAAC,oBAAoB,EAAE,QAAQ,CAAC;MACvC;IACF;EACF,CAAC,CAAC;EAEF,oBACE;IAAK,SAAS,EAAC,MAAM;IAAA,wBACnB;MAAK,SAAS,EAAC,QAAQ;MAAA,uBACrB;QAAA,UAAI;MAAmB;QAAA;QAAA;QAAA;MAAA;IAAK;MAAA;MAAA;MAAA;IAAA,QACxB,eACN;MAAM,QAAQ,EAAEC,MAAM,CAACa,YAAa;MAAA,wBAClC;QACE,EAAE,EAAC,WAAW;QACd,IAAI,EAAC,WAAW;QAChB,MAAM,EAAC,6FAA6F;QACpG,IAAI,EAAC,MAAM;QACX,QAAQ,EAAGC,KAAK,IAAK;UACnBd,MAAM,CAACe,aAAa,CAAC,WAAW,EAAED,KAAK,CAACE,aAAa,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;QACjE;MAAE;QAAA;QAAA;QAAA;MAAA,QACF,eAEF;QAAQ,IAAI,EAAC,QAAQ;QAAA,UAAC;MAAS;QAAA;QAAA;QAAA;MAAA,QAAS,eACxC,QAAC,IAAI;QAAC,EAAE,EAAC,WAAW;QAAA,UAAC;MAAO;QAAA;QAAA;QAAA;MAAA,QAAO;IAAA;MAAA;MAAA;MAAA;IAAA,QAC9B;EAAA;IAAA;IAAA;IAAA;EAAA,QACH;AAEV;AAAC,GAjDuBrB,iBAAiB;EAAA,QACtBR,WAAW,EAChBG,MAAM,EACJC,QAAQ,EAEPH,SAAS;AAAA;AAAA,KALFO,iBAAiB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}