{"ast":null,"code":"import axios from \"axios\";\nconst BASE_API_URL = process.env.REACT_APP_BASE_API_URL;\nexport default class ApiClient {\n  constructor() {\n    this.base_url = BASE_API_URL;\n  }\n  BaseURL() {\n    return this.base_url;\n  }\n  isAuthenticated() {\n    return localStorage.getItem(\"user\") !== null;\n  }\n  authToken() {\n    return localStorage.getItem(\"user\");\n  }\n  authHeader() {\n    // return auth header with jwt if user is logged in and request is to the api url\n    const token = this.authToken();\n    const isLoggedIn = !!token;\n    return {\n      headers: {\n        Authorization: isLoggedIn ? `Bearer ${token}` : \"\"\n      }\n    };\n  }\n  async get(url) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return axios.get(this.base_url + url, {\n      ...this.authHeader(),\n      ...options\n    }).then(resp => resp.data).catch(err => ({\n      error: err.response.data\n    }));\n  }\n  async post(url) {\n    let payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return axios.post(this.base_url + url, payload, {\n      ...this.authHeader(),\n      ...options\n    }).then(resp => resp.data).catch(err => ({\n      error: err.response.data\n    }));\n  }\n  async put(url) {\n    let payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return axios.put(this.base_url + url, payload, {\n      ...this.authHeader(),\n      ...options\n    }).then(resp => resp.data).catch(err => ({\n      error: err.response.data\n    }));\n  }\n  async delete(url) {\n    let payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return axios.delete(this.base_url + url, payload, {\n      ...this.authHeader(),\n      ...options\n    }).then(resp => resp.data).catch(err => ({\n      error: err.response.data\n    }));\n  }\n}","map":{"version":3,"names":["axios","BASE_API_URL","process","env","REACT_APP_BASE_API_URL","ApiClient","constructor","base_url","BaseURL","isAuthenticated","localStorage","getItem","authToken","authHeader","token","isLoggedIn","headers","Authorization","get","url","options","then","resp","data","catch","err","error","response","post","payload","put","delete"],"sources":["/Users/konedanguiismael/workspace/react/frontend/src/core/api/ApiClient.js"],"sourcesContent":["import axios from \"axios\";\nconst BASE_API_URL = process.env.REACT_APP_BASE_API_URL;\n\nexport default class ApiClient {\n  constructor() {\n    this.base_url = BASE_API_URL;\n  }\n\n  BaseURL() {\n    return this.base_url;\n  }\n\n  isAuthenticated() {\n    return localStorage.getItem(\"user\") !== null;\n  }\n\n  authToken() {\n    return localStorage.getItem(\"user\");\n  }\n\n  authHeader() {\n    // return auth header with jwt if user is logged in and request is to the api url\n    const token = this.authToken();\n    const isLoggedIn = !!token;\n    return {\n      headers: {\n        Authorization: isLoggedIn ? `Bearer ${token}` : \"\",\n      },\n    };\n  }\n\n  async get(url, options = {}) {\n    return axios\n      .get(this.base_url + url, { ...this.authHeader(), ...options })\n      .then((resp) => resp.data)\n      .catch((err) => ({ error: err.response.data }));\n  }\n\n  async post(url, payload = {}, options = {}) {\n    return axios\n      .post(this.base_url + url, payload, { ...this.authHeader(), ...options })\n      .then((resp) => resp.data)\n      .catch((err) => ({ error: err.response.data }));\n  }\n\n  async put(url, payload = {}, options = {}) {\n    return axios\n      .put(this.base_url + url, payload, { ...this.authHeader(), ...options })\n      .then((resp) => resp.data)\n      .catch((err) => ({ error: err.response.data }));\n  }\n\n  async delete(url, payload = {}, options = {}) {\n    return axios\n      .delete(this.base_url + url, payload, {\n        ...this.authHeader(),\n        ...options,\n      })\n      .then((resp) => resp.data)\n      .catch((err) => ({ error: err.response.data }));\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}